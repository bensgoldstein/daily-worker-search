
[     UTC     ] Logs for daily-worker-search-6znxbhuscih95rhzjdbnss.streamlit.app/
────────────────────────────────────────────────────────────────────────────────────────
[08:17:15] 🚀 Starting up repository: 'daily-worker-search', branch: 'main', main module: 'app.py'
[08:17:15] 🐙 Cloning repository...
[08:17:16] 🐙 Cloning into '/mount/src/daily-worker-search'...

[08:17:16] 🐙 Cloned repository!
[08:17:16] 🐙 Pulling code changes from Github...
[08:17:16] 📦 Processing dependencies...

──────────────────────────────────────── uv ───────────────────────────────────────────

Using uv pip install.
Using Python 3.13.7 environment at /home/adminuser/venv
Resolved 123 packages in 1.17s
Prepared 123 packages in 36.61s
Installed 123 packages in 735ms
 + altair==5.5.0
 + annotated-types==0.7.0
 + anyio==4.11.0
 +[2025-09-30 08:17:55.594055]  asyncio==4.0.0
 + attrs==25.3.0
 + blinker==1.9.0
 + cachetools==6.2.0
 + certifi==2025.8.3
 + charset-normalizer==3.4.3
 + click==8.3.0
 + diskcache[2025-09-30 08:17:55.594274] ==5.6.3
 + distro==1.9.0
 + filelock==3.19.1
 + fsspec==2025.9.0
 + gitdb==4.0.12
 + gitpython==3.1.45
 + google-ai-generativelanguage==0.6.15
 [2025-09-30 08:17:55.594474] + google-api-core==2.25.1
 + google-api-python-client==2.183.0
 + google-auth==2.41.0
 + google-auth-httplib2==0.2.0
 + google-generativeai==0.8.5
 [2025-09-30 08:17:55.594715] + googleapis-common-protos==1.70.0
 + greenlet==3.2.4
 + grpcio==1.75.1
 + grpcio-status==1.71.2
 + h11==0.16.0[2025-09-30 08:17:55.594955] 
 + hf-xet==1.1.10
 + httpcore==1.0.9
 + httplib2==0.31.0
 + httpx==0.28.1
 +[2025-09-30 08:17:55.595168]  huggingface-hub==0.35.3
 + idna==3.10
 + jinja2==3.1.6
 + jiter==0.11.0
 +[2025-09-30 08:17:55.595353]  joblib==1.5.2
 + jsonpatch==1.33
 + jsonpointer==3.0.0
 + jsonschema==4.25.1
 + [2025-09-30 08:17:55.595571] jsonschema-specifications==2025.9.1
 + langchain==0.3.27
 + langchain-core==0.3.76
 + langchain-text-splitters==0.3.11
 + langsmith==[2025-09-30 08:17:55.595777] 0.4.31
 + loguru==0.7.3
 + markupsafe==3.0.3
 + mpmath==1.3.0
 + narwhals==2.6.0
 + networkx==3.5
 + numpy==2.3.3
 + nvidia-cublas-cu12==12.8.4.1
 + nvidia-cuda-cupti-cu12==12.8.90
 + [2025-09-30 08:17:55.596163] nvidia-cuda-nvrtc-cu12==12.8.93
 + nvidia-cuda-runtime-cu12==12.8.90
 + nvidia-cudnn-cu12==9.10.2.21
 + nvidia-cufft-cu12==11.3.3.83
 + nvidia-cufile-cu12==1.13.1.3[2025-09-30 08:17:55.596321] 
 + nvidia-curand-cu12==10.3.9.90
 + nvidia-cusolver-cu12==11.7.3.90
 + nvidia-cusparse-cu12==12.5.8.93
 + nvidia-cusparselt-cu12==0.7.1
 [2025-09-30 08:17:55.596525] + nvidia-nccl-cu12==2.27.3
 + nvidia-nvjitlink-cu12==12.8.93
 + nvidia-nvtx-cu12==12.8.90
 + openai==1.109.1
 + [2025-09-30 08:17:55.596719] orjson==3.11.3
 + packaging==24.2
 + pandas==2.3.3
 + pillow==11.3.0
 + pinecone==7.3.0[2025-09-30 08:17:55.597212] 
 + pinecone-plugin-assistant==1.8.0
 + pinecone-plugin-interface==0.0.7
 + proto-plus==1.26.1
 + protobuf==5.29.5[2025-09-30 08:17:55.597317] 
 + psycopg2-binary==2.9.10
 + pyarrow==21.0.0
 + pyasn1==0.6.1
 + pyasn1-modules==0.4.2[2025-09-30 08:17:55.597414] 
 + pydantic==2.11.9
 + pydantic-core==2.33.2
 + pydeck==0.9.1
 + pyparsing==3.2.5
 +[2025-09-30 08:17:55.597520]  pypdf2==3.0.1
 + python-dateutil==2.9.0.post0
 + python-dotenv==1.1.1
 + pytz==2025.2
 + pyyaml==6.0.3
 + rank-bm25==0.2.2
 + referencing==0.36.2
 + regex[2025-09-30 08:17:55.597814] ==2025.9.18
 + reportlab==4.4.4
 + requests==2.32.5
 + requests-toolbelt==1.0.0
 + rpds-py[2025-09-30 08:17:55.598011] ==0.27.1
 + rsa==4.9.1
 + safetensors==0.6.2
 + scikit-learn==1.7.2
 + [2025-09-30 08:17:55.598232] scipy==1.16.2
 + sentence-transformers==5.1.1
 + setuptools==80.9.0
 + six==1.17.0
 + smmap==5.0.2
 + sniffio[2025-09-30 08:17:55.598401] ==1.3.1
 + sqlalchemy==2.0.43
 + streamlit==1.50.0
 + sympy==1.14.0
 + tenacity==9.1.2[2025-09-30 08:17:55.598532] 
 + threadpoolctl==3.6.0
 + tiktoken==0.11.0
 + tokenizers==0.22.1
 + toml==[2025-09-30 08:17:55.598635] 0.10.2
 + torch==2.8.0
 + tornado==6.5.2
 + tqdm==4.67.1
 + transformers==[2025-09-30 08:17:55.598812] 4.56.2
 + triton==3.4.0
 + typing-extensions==4.15.0
 + typing-inspection==0.4.1
 + tzdata==2025.2[2025-09-30 08:17:55.598970] 
 + uritemplate==4.2.0
 + urllib3==2.5.0
 + watchdog==6.0.0
 + zstandard==0.25.0
Checking if Streamlit is installed
Found Streamlit version 1.50.0 in the environment
Installing rich for an improved exception logging
Using uv pip install.
Using Python 3.13.7 environment at /home/adminuser/venv
Resolved 4 packages in 126ms
Prepared 4 packages in 126ms
Installed 4 packages in 16ms
 + markdown-it-py==4.0.0
 + mdurl==0.1.2
 + pygments==2.19.2
 + rich==14.1.0

────────────────────────────────────────────────────────────────────────────────────────

[08:17:58] 🐍 Python dependencies were installed from /mount/src/daily-worker-search/requirements.txt using uv.
Check if streamlit is installed
Streamlit is already installed
[08:17:59] 📦 Processed dependencies!



2025-09-30 08:18:18.449 | INFO     | vector_database_hosted:__init__:38 - Connected to Pinecone index 'newspaper-rag'
2025-09-30 08:18:18.450 | INFO     | vector_database_hosted:__init__:39 - Index stats: {'dimension': 1024,
 'index_fullness': 0.0,
 'metric': 'cosine',
 'namespaces': {'': {'vector_count': 916754}},
 'total_vector_count': 916754,
 'vector_type': 'dense'}
2025-09-30 08:18:18.450 | INFO     | __main__:initialize_vector_db:816 - Looking for BM25 index at: /mount/src/daily-worker-search/processed_data/bm25_index_hosted.pkl
2025-09-30 08:18:18.450 | INFO     | __main__:initialize_vector_db:817 - BM25 index exists: False
2025-09-30 08:18:18.450 | WARNING  | __main__:initialize_vector_db:832 - BM25 index file not found at: /mount/src/daily-worker-search/processed_data/bm25_index_hosted.pkl
[08:19:49] 🐙 Pulling code changes from Github...
[08:19:50] 📦 Processing dependencies...

──────────────────────────────────────── uv ───────────────────────────────────────────

Using uv pip install.
Using Python 3.13.7 environment at /home/adminuser/venv
────────────────────── Traceback (most recent call last) ───────────────────────
  /home/adminuser/venv/lib/python3.13/site-packages/streamlit/runtime/scriptru  
  nner/exec_code.py:128 in exec_func_with_error_handling                        
                                                                                
  /home/adminuser/venv/lib/python3.13/site-packages/streamlit/runtime/scriptru  
  nner/script_runner.py:667 in code_to_exec                                     
                                                                                
  /home/adminuser/venv/lib/python3.13/site-packages/streamlit/runtime/scriptru  
  nner/script_runner.py:165 in _mpa_v1                                          
                                                                                
  /home/adminuser/venv/lib/python3.13/site-packages/streamlit/navigation/page.  
  py:300 in run                                                                 
                                                                                
  /mount/src/daily-worker-search/app.py:32 in <module>                          
                                                                                
      29 from auth import AuthManager                                           
      30 from usage_monitor import UsageMonitor                                 
      31                                                                        
  ❱   32 # Try to import PDF generation libraries                               
      33 try:                                                                   
      34 │   from reportlab.lib.pagesizes import letter, A4                     
      35 │   from reportlab.platypus import SimpleDocTemplate, Paragraph, Spac  
────────────────────────────────────────────────────────────────────────────────
ModuleNotFoundError: No module named 'gdown'
Resolved 127 packages in 422ms
Prepared 4 packages in 33ms
Installed 4 packages in 4ms
 [2025-09-30 08:19:51.185786] + beautifulsoup4==4.14.2
 + gdown==5.2.0
 + pysocks==1.7.1
 + soupsieve==2.8
Checking if Streamlit is installed
Found Streamlit version 1.50.0 in the environment
Installing rich for an improved exception logging
Using uv pip install.
Using Python 3.13.7 environment at /home/adminuser/venv
Audited 1 package in 3ms

────────────────────────────────────────────────────────────────────────────────────────

[08:19:52] 🐍 Python dependencies were installed from /mount/src/daily-worker-search/requirements.txt using uv.
[08:19:52] 📦 Processed dependencies!
  Stopping...



[08:19:55] 🔄 Updated app!
2025-09-30 08:20:10.234 | INFO     | vector_database_hosted:__init__:38 - Connected to Pinecone index 'newspaper-rag'
2025-09-30 08:20:10.235 | INFO     | vector_database_hosted:__init__:39 - Index stats: {'dimension': 1024,
 'index_fullness': 0.0,
 'metric': 'cosine',
 'namespaces': {'': {'vector_count': 916754}},
 'total_vector_count': 916754,
 'vector_type': 'dense'}
2025-09-30 08:20:10.235 | INFO     | __main__:initialize_vector_db:845 - Looking for BM25 index at: /mount/src/daily-worker-search/processed_data/bm25_index_hosted.pkl
2025-09-30 08:20:10.235 | INFO     | __main__:initialize_vector_db:849 - BM25 index not found locally, attempting to download...
Downloading...
From (original): https://drive.google.com/uc?id=1ujeMPLPFYhIMT8xei2ZcApcNvo-gZL-A
From (redirected): https://drive.google.com/uc?id=1ujeMPLPFYhIMT8xei2ZcApcNvo-gZL-A&confirm=t&uuid=a0b64fe9-e58d-43b3-9c95-616fd6493afd
To: /mount/src/daily-worker-search/processed_data/bm25_index_hosted.pkl
  0%|          | 0.00/1.63G [00:00<?, ?B/s][2025-09-30 08:20:12.440588]   0%|          | 4.72M/1.63G [00:00<00:56, 29.0MB/s][2025-09-30 08:20:12.541891]   1%|▏         | 20.4M/1.63G [00:00<00:18, 88.5MB/s][2025-09-30 08:20:12.670258]   2%|▏         | 32.0M/1.63G [00:00<00:17, 89.1MB/s][2025-09-30 08:20:12.797302]   3%|▎         | 42.5M/1.63G [00:00<00:18, 86.5MB/s][2025-09-30 08:20:12.899006]   4%|▎         | 60.8M/1.63G [00:00<00:13, 116MB/s] [2025-09-30 08:20:13.087197]   4%|▍         | 73.4M/1.63G [00:00<00:16, 93.7MB/s][2025-09-30 08:20:13.369510]   5%|▌         | 89.1M/1.63G [00:01<00:20, 75.0MB/s][2025-09-30 08:20:13.555663]   7%|▋         | 114M/1.63G [00:01<00:16, 94.1MB/s] [2025-09-30 08:20:13.655876]   8%|▊         | 128M/1.63G [00:01<00:14, 103MB/s] [2025-09-30 08:20:13.756099]   9%|▉         | 143M/1.63G [00:01<00:13, 113MB/s][2025-09-30 08:20:14.152861]  10%|▉         | 156M/1.63G [00:01<00:21, 68.0MB/s][2025-09-30 08:20:14.326057]  11%|█         | 180M/1.63G [00:02<00:16, 87.0MB/s][2025-09-30 08:20:14.428027]  12%|█▏        | 197M/1.63G [00:02<00:14, 99.8MB/s][2025-09-30 08:20:14.529510]  13%|█▎        | 214M/1.63G [00:02<00:12, 114MB/s] [2025-09-30 08:20:14.657433]  14%|█▍        | 228M/1.63G [00:02<00:12, 113MB/s][2025-09-30 08:20:14.815665]  15%|█▌        | 246M/1.63G [00:02<00:12, 113MB/s][2025-09-30 08:20:14.917492]  16%|█▋        | 269M/1.63G [00:02<00:09, 139MB/s][2025-09-30 08:20:15.069941]  17%|█▋        | 285M/1.63G [00:02<00:10, 127MB/s][2025-09-30 08:20:15.172093]  18%|█▊        | 302M/1.63G [00:02<00:09, 137MB/s][2025-09-30 08:20:15.318055]  19%|█▉        | 317M/1.63G [00:03<00:10, 126MB/s][2025-09-30 08:20:15.419604]  21%|██        | 341M/1.63G [00:03<00:08, 154MB/s][2025-09-30 08:20:15.580650]  22%|██▏       | 358M/1.63G [00:03<00:09, 136MB/s][2025-09-30 08:20:15.686035]  23%|██▎       | 377M/1.63G [00:03<00:08, 148MB/s][2025-09-30 08:20:15.787469]  24%|██▍       | 395M/1.63G [00:03<00:07, 155MB/s][2025-09-30 08:20:15.926078]  25%|██▌       | 412M/1.63G [00:03<00:08, 144MB/s][2025-09-30 08:20:16.035485]  26%|██▌       | 427M/1.63G [00:03<00:08, 142MB/s][2025-09-30 08:20:16.174496]  27%|██▋       | 442M/1.63G [00:03<00:09, 131MB/s][2025-09-30 08:20:16.286506]  28%|██▊       | 456M/1.63G [00:04<00:09, 129MB/s][2025-09-30 08:20:16.386526]  29%|██▉       | 476M/1.63G [00:04<00:07, 147MB/s][2025-09-30 08:20:16.607717]  30%|███       | 491M/1.63G [00:04<00:10, 112MB/s][2025-09-30 08:20:16.708899]  32%|███▏      | 515M/1.63G [00:04<00:08, 139MB/s][2025-09-30 08:20:16.880818]  33%|███▎      | 531M/1.63G [00:04<00:08, 123MB/s][2025-09-30 08:20:17.145088]  33%|███▎      | 545M/1.63G [00:04<00:11, 92.8MB/s][2025-09-30 08:20:17.269335]  34%|███▍      | 557M/1.63G [00:04<00:11, 92.8MB/s][2025-09-30 08:20:17.370875]  35%|███▌      | 573M/1.63G [00:05<00:09, 107MB/s] [2025-09-30 08:20:17.479578]  36%|███▌      | 587M/1.63G [00:05<00:09, 111MB/s][2025-09-30 08:20:17.622028]  37%|███▋      | 599M/1.63G [00:05<00:09, 104MB/s][2025-09-30 08:20:17.724166]  38%|███▊      | 617M/1.63G [00:05<00:08, 121MB/s][2025-09-30 08:20:17.845562]  39%|███▊      | 632M/1.63G [00:05<00:08, 121MB/s][2025-09-30 08:20:17.952008]  40%|███▉      | 651M/1.63G [00:05<00:07, 136MB/s][2025-09-30 08:20:18.121930]  41%|████      | 665M/1.63G [00:05<00:07, 135MB/s][2025-09-30 08:20:18.162982]  42%|████▏     | 683M/1.63G [00:05<00:06, 145MB/s][2025-09-30 08:20:18.361401]  43%|████▎     | 698M/1.63G [00:06<00:08, 116MB/s][2025-09-30 08:20:18.464563]  44%|████▎     | 711M/1.63G [00:06<00:07, 120MB/s][2025-09-30 08:20:18.771018]  44%|████▍     | 725M/1.63G [00:06<00:11, 80.6MB/s][2025-09-30 08:20:18.910434]  46%|████▌     | 747M/1.63G [00:06<00:08, 101MB/s] [2025-09-30 08:20:19.031166]  47%|████▋     | 760M/1.63G [00:06<00:08, 102MB/s][2025-09-30 08:20:19.132314]  48%|████▊     | 779M/1.63G [00:06<00:07, 121MB/s][2025-09-30 08:20:19.262420]  49%|████▊     | 795M/1.63G [00:06<00:06, 122MB/s][2025-09-30 08:20:19.362749]  50%|████▉     | 816M/1.63G [00:07<00:05, 142MB/s][2025-09-30 08:20:19.493863]  51%|█████     | 832M/1.63G [00:07<00:05, 135MB/s][2025-09-30 08:20:19.597729]  52%|█████▏    | 848M/1.63G [00:07<00:05, 141MB/s][2025-09-30 08:20:19.720501]  53%|█████▎    | 865M/1.63G [00:07<00:05, 139MB/s][2025-09-30 08:20:19.860927]  54%|█████▍    | 884M/1.63G [00:07<00:05, 140MB/s][2025-09-30 08:20:20.011413]  55%|█████▌    | 903M/1.63G [00:07<00:05, 135MB/s][2025-09-30 08:20:20.114625]  56%|█████▋    | 919M/1.63G [00:07<00:05, 138MB/s][2025-09-30 08:20:20.215380]  57%|█████▋    | 933M/1.63G [00:07<00:04, 140MB/s][2025-09-30 08:20:20.318395]  58%|█████▊    | 949M/1.63G [00:08<00:04, 145MB/s][2025-09-30 08:20:20.419409]  59%|█████▉    | 970M/1.63G [00:08<00:04, 161MB/s][2025-09-30 08:20:20.550930]  60%|██████    | 987M/1.63G [00:08<00:04, 150MB/s][2025-09-30 08:20:20.651027]  62%|██████▏   | 1.01G/1.63G [00:08<00:03, 159MB/s][2025-09-30 08:20:20.761016]  63%|██████▎   | 1.02G/1.63G [00:08<00:03, 155MB/s][2025-09-30 08:20:20.862081]  64%|██████▎   | 1.04G/1.63G [00:08<00:03, 163MB/s][2025-09-30 08:20:21.009341]  65%|██████▍   | 1.06G/1.63G [00:08<00:03, 145MB/s][2025-09-30 08:20:21.109649]  66%|██████▌   | 1.07G/1.63G [00:08<00:03, 151MB/s][2025-09-30 08:20:21.230504]  67%|██████▋   | 1.09G/1.63G [00:08<00:03, 144MB/s][2025-09-30 08:20:21.375804]  68%|██████▊   | 1.10G/1.63G [00:09<00:04, 130MB/s][2025-09-30 08:20:21.476126]  69%|██████▉   | 1.13G/1.63G [00:09<00:03, 151MB/s][2025-09-30 08:20:21.643707]  70%|██████▉   | 1.14G/1.63G [00:09<00:03, 129MB/s][2025-09-30 08:20:21.768627]  71%|███████   | 1.16G/1.63G [00:09<00:03, 143MB/s][2025-09-30 08:20:21.917819]  72%|███████▏  | 1.18G/1.63G [00:09<00:03, 129MB/s][2025-09-30 08:20:22.043330]  73%|███████▎  | 1.20G/1.63G [00:09<00:03, 135MB/s][2025-09-30 08:20:22.244451]  74%|███████▍  | 1.21G/1.63G [00:09<00:03, 110MB/s][2025-09-30 08:20:22.400379]  75%|███████▍  | 1.22G/1.63G [00:10<00:04, 99.9MB/s][2025-09-30 08:20:22.506342]  76%|███████▌  | 1.23G/1.63G [00:10<00:03, 101MB/s] [2025-09-30 08:20:22.623133]  77%|███████▋  | 1.25G/1.63G [00:10<00:03, 118MB/s][2025-09-30 08:20:22.772417]  78%|███████▊  | 1.27G/1.63G [00:10<00:03, 107MB/s][2025-09-30 08:20:22.872745]  79%|███████▉  | 1.29G/1.63G [00:10<00:02, 139MB/s][2025-09-30 08:20:23.111137]  80%|███████▉  | 1.31G/1.63G [00:10<00:03, 105MB/s][2025-09-30 08:20:23.240095]  81%|████████▏ | 1.33G/1.63G [00:10<00:02, 122MB/s][2025-09-30 08:20:23.341293]  82%|████████▏ | 1.34G/1.63G [00:11<00:02, 126MB/s][2025-09-30 08:20:23.465708]  83%|████████▎ | 1.36G/1.63G [00:11<00:02, 123MB/s][2025-09-30 08:20:23.609982]  84%|████████▍ | 1.37G/1.63G [00:11<00:02, 118MB/s][2025-09-30 08:20:23.710587]  85%|████████▌ | 1.39G/1.63G [00:11<00:01, 139MB/s][2025-09-30 08:20:23.814161]  86%|████████▌ | 1.41G/1.63G [00:11<00:01, 141MB/s][2025-09-30 08:20:24.205664]  87%|████████▋ | 1.42G/1.63G [00:11<00:02, 81.1MB/s][2025-09-30 08:20:24.306589]  89%|████████▊ | 1.45G/1.63G [00:12<00:01, 111MB/s] [2025-09-30 08:20:24.481876]  90%|████████▉ | 1.46G/1.63G [00:12<00:01, 104MB/s][2025-09-30 08:20:24.590906]  91%|█████████ | 1.49G/1.63G [00:12<00:01, 129MB/s][2025-09-30 08:20:24.739890]  92%|█████████▏| 1.50G/1.63G [00:12<00:01, 123MB/s][2025-09-30 08:20:24.841085]  93%|█████████▎| 1.53G/1.63G [00:12<00:00, 144MB/s][2025-09-30 08:20:25.006767]  94%|█████████▍| 1.54G/1.63G [00:12<00:00, 130MB/s][2025-09-30 08:20:25.107389]  95%|█████████▌| 1.56G/1.63G [00:12<00:00, 138MB/s][2025-09-30 08:20:25.226166]  96%|█████████▋| 1.57G/1.63G [00:12<00:00, 137MB/s][2025-09-30 08:20:25.337200]  98%|█████████▊| 1.59G/1.63G [00:13<00:00, 142MB/s][2025-09-30 08:20:25.477451]  98%|█████████▊| 1.61G/1.63G [00:13<00:00, 131MB/s][2025-09-30 08:20:25.586328] 100%|█████████▉| 1.63G/1.63G [00:13<00:00, 141MB/s][2025-09-30 08:20:25.614190] 100%|██████████| 1.63G/1.63G [00:13<00:00, 122MB/s]
2025-09-30 08:20:25.619 | INFO     | __main__:initialize_vector_db:854 - Loading BM25 index from: /mount/src/daily-worker-search/processed_data/bm25_index_hosted.pkl